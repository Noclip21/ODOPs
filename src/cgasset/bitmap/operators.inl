#pragma once

#include <cstring>

#include "Bitmap.h"

#include "../file/operators.inl"


////////////////////////////////////////////////////////////////////////////////
Bitmap& Bitmap::operator = (const Bitmap& bitmap)
{
	width  = bitmap.width;
	height = bitmap.height;
	format = bitmap.format;
	*((File*)this) = bitmap;
	return *this;
}
////////////////////////////////////////////////////////////////////////////////
void* Bitmap::operator [](const uint i)
{ return data+i*bytesPerPixel(); }
////////////////////////////////////////////////////////////////////////////////
void* Bitmap::operator ()(const uint x,const uint y)
{ return (*this)[x+width*y]; }
////////////////////////////////////////////////////////////////////////////////
const void* Bitmap::operator [](const uint i) const
{ return data+i*bytesPerPixel(); }
////////////////////////////////////////////////////////////////////////////////
const void* Bitmap::operator ()(const uint x,const uint y) const
{ return (*this)[x+width*y]; }
////////////////////////////////////////////////////////////////////////////////
void Bitmap::operator ()(const void* p,const uint i)
{ memcpy((*this)[i],p,bytesPerPixel()); }
////////////////////////////////////////////////////////////////////////////////
void Bitmap::operator ()(const void* p,const uint x,const uint y)
{ (*this)(p,x+width*y); }
////////////////////////////////////////////////////////////////////////////////
